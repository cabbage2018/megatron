设计和实现一款工业软网关需要注意的方面

# 触摸工业网关的边缘 #


## Write protection ##
工业设备需要安全防护，防止入侵，窃听，非法控制，过载，破坏系统，等等，电力设备尤其需要安全机制。但是铁壳子传统设备基于单片机也没有安装安全芯片trustzone 什么的，所谓的安全防护其实集中在本地安全。本地安全就是但凡操控的人都必须经过授权，但凡操作必须记录。OK 授权的含义很简单，就是表计的菜单栏里有密码保护，记住，只有密码而没有用户名；为了解决初始密码难题，出厂情况下密码基本都是 "0000" 这么一串字符。没有用户名实际上也很推板，即使发生误操作也无法追查责任，但是你也不能对一款发布于1989年的电力设备过于责难，于是 人们纷纷在SCADA 软件上追加用户管理的模块，就是任何更改型的操作都强制备案不能被用户删除。仅仅有密码很多时候还只能保护本地操作，而无法防护远程或者上位机对设备的误操作。于是，写保护就应运而生。这也是硬件防护的一种。现场组态完毕就加上写保护（往往是硬接线或者是串联一个电阻使能写保护）这样中控软件就不会一个鼠标点击不小心把全厂区的电都给跳闸了-在局域网里也许这种情形不会出现，但是数字化巨浪来袭的时代只要软件开了Internet 上云的口子风险就会成倍增加，不信去网络安全网站看看他们的招聘力度和人员工资就可以管中窥豹。

说到这里还可以具体讲述一下工业安全。工业安全最早指的是真正的安全-指的是这个行业需要的安全定义和内涵。这句话什么意思呢，就是指无论怎么操作机器都不会把人弄死闸刀无论怎么推也不会烧掉整个车间。这里就是断路器和综合保护微机所完成的任务。举个简单例子，一个工厂平时耗电有功是1000000 瓦，那么根据电压很容易计算出电流，利用电流可以计算出分配多少路进线、变压器和线路等级。当一路电流等级确定后，就可以选购串接在电路里的一次保护设备（好吧暂时还是不涉及二次设备），它们的价格被电流等级决定。这样就可以设计好一个工厂车间了。。。吗？ 不是，作为规划设计人员还要考察用电设备铭牌，上面描述了电动机启动电流时序图。通过这个图计算出裕量，就是说电动机启动时整个厂区的电流可能都会被吸走而且还不够用，就像小时候电站打水机器启动时家里的电灯就黄掉一个道理，断路器不能因为电动机起动电流过大而跳闸，这样的设计会造成烧毁电动机而不是无法启动。大功率马达的价格还是很惊人的。这就是长时过载和短时过载曲线。只有设计跟你说你的用电设备电流曲线是什么样时这个设计才是过关的。总而言之，什么东西贵，什么东西容易坏，人们就设计保护电路来防护它。于是就产生了千奇百怪的一次二次设备保护接线法。这里头最根本一点是你想要保护什么？变压器？母线？马达？机器？进线线路？人员？不同对象的保护级别和方法也是五花八门，保护生产线不停摆和机器不宕机有多种方法，还有一种是设计冗余进线。就是主进线失效后，在毫秒数量级差不多的级别切换备用进线。

## Event ##
事件是安全机制和方法的灵魂。


## Signal ##
数字量或者信号是测量的关键，如果可测，就可以设定对应的事件，防护到特定的硬件。

## 行业knowhow ##
贵重机器和设备多多少少有安全防护能力，关键看你会不会接以及会不会用。

## 破解迷局 ##
低压断路器

## 自己的知识产权-设计 ##


## 脚本、语言、库、工具在日常工业软件实践中的用法 ##
